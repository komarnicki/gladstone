# What is Gladstone?
Gladstone is a [pure vanilla](http://bit.ly/1MOePKW) JavaScript application. 

* **no additional frameworks**
* **no heavy dependencies**
* **no jQuery**

With a very few steps, Gladstone gives you a phenomenal ability to put some custom markers across the globe and link them with related stories. Read each of them, enjoy stunning pictures attached to every story and finally jump from marker to marker to experience great adventure with some unique content.

![Gladstone main](./images/readme/preview_01.png)

![Gladstone tiles](./images/readme/preview_02.png)

## Live Demo

Curious? Check out how Gladstone works by visiting [my own blog](http://komarnicki.pl/mapa). Zoom in and out to see how markers react when collide. Click them to open a story. Jump between them using top left icons and see how intuitive it is.

### How Gladstone does it?

By telling Gladstone, where is the source of an input JSON (with some essential attributes and proper values), you will see stunningly customized Google Map with some clickable elements. Gladstone reads coordinates and puts them 
precisely on a proper latitude and longitude.

### What's on my side?

All you have to do, is to prepare a JSON, that should be generated by a server side language,
and then (probably) passed from the controller into the view layer. That's it! Follow Installation chapter to read detailed
instructions.

### Requirements

Absolutely minimal. **Modern** internet browser (not IE 6, not even 10) and internet connection (for Google Maps).

### Installation

1. Include the Gladstone style sheets `./css/gladstone.css` into your application.

2. Include Gladstone's library `./javascript/gladstone.js` to be able to create new Gladstone object.

3. Within `body` tag, create new container for the map `<div id="map_canvas"></div>`

4. Finally invoke Gladstone with some mandatory parameters


```
var gladstone,
    key = '',
    canvas = 'map_canvas'

gladstone = new Gladstone(key, canvas, markers, {
    'lang': 'pl',
    'storyAutoOpen': 1245
});

```
**Don't forget to generate your [API key](https://developers.google.com/maps/signup?hl=en).**

In terms of the `markers` variable, here is how it should look like

```
var markers = [
    {
        'id': 1, 
        'latitude': 39.623791, 
        'longitude': 19.921335, 
        'continent': 'europe', 
        'position': '-16° 55.101 S 145° 46.096 E',
        'zoom': 7, 
        'color': 'color_green1', 
        'image': './images/dolor.jpg', 
        'link': 'http://some.url/dolor/', 
        'date': '2012-09-27',
        'subTitle': 'Euismod lacus rutrum', 
        'label': 'Dolor Amet', 
        'description': '<p>Lobortis leo est et lorem.</p>'
    }
];
```

Repeat this in a loop and your markers are ready to be set on the map.

![Gladstone all continents](./images/readme/preview_03.png)

#### JSON properties format

* **Integers**
  * id,
  * zoom,
* **Decimals**
  * latitude
  * longitude
* **Strings**
  * continent,
  * position,
  * color,
  * image,
  * link,
  * date,
  * subTitle,
  * label,
  * description (should be rich HTML but don't forget to strip all unsafe tags, I prefer to leave `a`, `strong` as well as `p` and strip everything else)
  
#### Additional options

You can easily replace default options by puting them explicitly into `options` variable while creating `new Gladstone` object.

##### Possible options

* **lang** can be either `en` or `pl`. Everything that localization does, is to translate some title attributes as well as some short messages and exceptions if thrown
* **slugs** can be either `true` or `false`. If enabled, then it's up to you, how you will replace the value of `links` in the JSON from full URLs to just slugs. Remove protocol + domain and relave the rest. This will enable dynamic URL change in your browser's address bar when jumping between stories
* **urlRoot** is the main URL where all stories associated with your map are hosted. This works perfectly when `slugs` are enabled
* **urlMap** is the main URL where Gladstone is located. Should be different than `urlRoot`
* **storyAutoOpen** this one is my favourite and should be generated (if needed) by your server side language. If you want to open a particular story once the Gladstone is initialized, put here marker's ID, otherwise set to `0`. This works perfectly with elabled `slugs`. [Check this link](http://komarnicki.pl/mapa/wellington-picton) - it has a slug to existing story. PHP detects this slug and then sets `storyAutoOpen` with associated `id`. Thanks to that, story is automatically opened

#### Predefined colors

To each marker you can assign one of below predefined class:

* color_red1
* color_red2
* color_yellow1
* color_yellow2
* color_green1
* color_green2
* color_blue1
* color_blue2
* color_blue3
* color_pink1
* color_violet1

Check `gladstone.css` to see how everything is defined.

### Current Status

Gladstone is absolutely stable but still considered as an *alpha* version. Tested in Chrome and Safari. OS X El Capitan. Version 10.11.1 (15B42).

### License

Do what you want with Gladstone. Both home and commercial use is allowed.
The only thing I ask you, is to leave the header credits in `Gladstone.js` intact.
